# YD代码结构


## Controller

### RestUserServiceImpl


有一个接口,内部注入很多的Service, 具体如下：

    ```
    @Service("restUserService")
    @Path("/user")
    @Scope("prototype")
    @Produces("application/json")
    public class RestUserServiceImpl implements RestUserService {
        Logger logger = Logger.getLogger(RestUserServiceImpl.class);
        @Autowired
        UserService userService;
        @Autowired
        RedisService redisService;
        @Autowired
        UserBankService userBankService;
        @Autowired
        InvestmentDetailService investmentDetailService;
        @Autowired
        SUserDueDetailService sUserDueDetailService;
    ```


##  RestProjectServiceImpl

```
@Service("restProjectService")
@Path("/project")
@Scope("prototype")
@Produces("application/json")
public class RestProjectServiceImpl implements RestProjectService {
	Logger logger = Logger.getLogger(RestProjectServiceImpl.class);
	@Autowired
	ProjectService projectService;
	@Autowired
	RedisService redisService;
	@Autowired
	InvestmentDetailService investmentDetailService;
    ...
```





## Service

一般都是有一个service接口， 然后对应一个实现的serviceImpl接口。 serviceImpl里一般都会使用@Autowired注入不少的Mapper.

### SUserHistoryService


在目录business/serivce/user目录下，内部一般会注入相应的mapper, 对数据库进行操作：

```
@Service("sUserHistoryService")
public class SUserHistoryServiceImpl implements SUserHistoryService {
    @Autowired
	private SUserHistoryMapper sUserHistoryMapper;

	public SUserHistory getByPrimaryKey(Integer id){
		return sUserHistoryMapper.getByPrimaryKey(id);
	}
	public void create(SUserHistory sUserHistory){
		sUserHistoryMapper.create(sUserHistory);
	}
	public void update(SUserHistory sUserHistory){
		sUserHistoryMapper.update(sUserHistory);
	}
	public void delete(Integer id){
		sUserHistoryMapper.delete(id);
	}
	public int count(Map<String,Object> params){
		return sUserHistoryMapper.count(params);
	}
	public SUserHistory get(Map<String,Object> params){
	    return sUserHistoryMapper.get(params);
	}
	public List<SUserHistory> getList(Map<String,Object> params){
		return sUserHistoryMapper.getList(params);
	}
	public Integer insertShareCouponRecord(SUserHistory sUserHistory){
		return sUserHistoryMapper.insertShareCouponRecord(sUserHistory);
	}
}
```

使用：

```
@Autowired
SUserHistoryService sUserHistoryService;
```


### RechargeLogService


    ```
    @Service("rechargeLogService")
    @Scope("prototype")
    public class RechargeLogServiceImpl implements RechargeLogService {

        private static final String INVEST_AMOUNT="invest_amount";
        private static final String INVEST_DAY="invest_day";
        private static final String INVITE_NUMBER="invite_num";
        private static Logger logger = LoggerFactory.getLogger(RechargeLogServiceImpl.class);
        @Autowired
        SRechargeLogMapper sRechargeLogMapper;
    ```

使用：


    ```
    @Autowired
    RechargeLogService rechargeLogService;
    ```




### UserService

    ```
    @Service("userService")
    @Scope("prototype")
    public class UserServiceImpl implements UserService {
    ```

在Business/service/user目录下。

使用：

    ```
    @Autowired
    UserService userService;
    ```




## DB mapper


### SUserRedenvelopeMapper

对应的类为SUserRedenvelopeMapper， 在business目录下。

对应的mapper xml为SUserRedenvelopeMapper.xml， 在model目录下。



## Bean/Model/Object

都放在model/model下面：

### Model

如：

    ```
    public class SUser extends BaseModel{

        private Long id;
        private String username;
        private String password;

    ....
    ```


### 一般对象

    ```
    public class SBank {

        /**
        * This field was generated by MyBatis Generator. This field corresponds to the database column s_bank.id
        * @mbggenerated  Fri May 29 15:12:15 CST 2015
        */
        private Integer id;
        private String bankCode;
        ...
        public Integer getId() {
            return id;
        }

        public void setId(Integer id) {
            this.id = id;
        }

    ```

### Bean对象


    ```
    public class SUserWalletInterest extends BaseBean {
        private Integer type = 3;
        private String title;
        ...
    ``
